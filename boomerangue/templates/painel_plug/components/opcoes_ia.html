{% load static %}
{% load tags %}
{% load i18n %}
<div class="col-xl-6 col-md-12 dash-xl-33 dash-lg-50 box-col-6">
    <div class="card ongoing-project recent-orders">
      <div class="card-header card-no-border">
        <div class="media media-dashboard">
          <div class="media-body">
            <h5 class="mb-0">Opções Criatividade</h5>
          </div>
          <div class="form-group mb-0 me-0"><a class="btn btn-primary" data-bs-toggle="modal"
            data-bs-target="#modal_add_criativiade" onclick="new_criatividade()">{% trans 'Criar Criatividade' %}</a>
          </div>
          <!-- <div class="icon-box onhover-dropdown"><i data-feather="more-horizontal"></i>
            <div class="icon-box-show onhover-show-div">
              <ul>
                <li> <a>
                    Done</a></li>
                <li> <a>
                    Pending</a></li>
                <li> <a>
                    Rejected</a></li>
                <li> <a>In Progress</a></li>
              </ul>
            </div>
          </div> -->
        </div>
      </div>
      <div class="card-body pt-0">
        <div class="table-responsive" style="height: 300px; overflow-y: scroll;">
          <table class="table table-bordernone">
            <thead>
              <tr>
                <th> <span>Criatividade</span></th>
                <th> <span>gpt</span></th>
                <th> <span>key</span></th>
                <th> <span>Opções</span></th>
              </tr>
            </thead>
            <tbody id="tbody_criatividade">
              {% for criatividade in criatividades %}
                <tr>
                  <td>
                    <div class="media">
                      <div class="square-box me-2"><img class="img-fluid b-r-5"
                          src="{% static 'assets/images/lampada-de-ideia.png'%}" alt="" style="width: 100%; height: 100%; object-fit: contain;" onerror="this.onerror=null;this.src='{% static 'assets\images\banner\Produto-sem-foto.png' %}';"></div>
                      <div class="media-body ps-2">
                        <div class="avatar-details"><a href="#">
                            <h6>{{criatividade.criatividade}}</h6>
                          </a><span></span></div>
                      </div>
                    </div>
                  </td>
                  <td class="img-content-box">
                    <h6>{{criatividade.gpt}}</h6>
                  </td>
                  <td>
                    {{criatividade.key}}
                  </td>
                  <td>
                    <button class="btn btn-primary dropdown-toggle" type="button" data-bs-toggle="dropdown"
                          aria-haspopup="true" aria-expanded="false">Opções</button>
                        <div class="dropdown-menu">
                          <a class="dropdown-item"
                            href="#" onclick="delete_criatividade('{{criatividade.pk}}')">Excluir</a>
                            <a class="dropdown-item"
                            href="javascript:void(0)" data-bs-toggle="modal" data-bs-target="#modal_add_criativiade" onclick="edit_criatividade('{{criatividade.pk}}')">Editar</a>
                        </div>
                  </td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>


  <div class="col-xl-6 col-md-12 dash-xl-33 dash-lg-50 box-col-6">
    <div class="card ongoing-project recent-orders">
      <div class="card-header card-no-border">
        <div class="media media-dashboard">
          <div class="media-body">
            <h5 class="mb-0">Opções Tom de Voz</h5>
          </div>
          <div class="form-group mb-0 me-0"><a class="btn btn-primary" data-bs-toggle="modal"
            data-bs-target="#modal_add_tomvoz" onclick="new_tom()">{% trans 'Criar Tom voz' %}</a>
          </div>
          <!-- <div class="icon-box onhover-dropdown"><i data-feather="more-horizontal"></i>
            <div class="icon-box-show onhover-show-div">
              <ul>
                <li> <a>
                    Done</a></li>
                <li> <a>
                    Pending</a></li>
                <li> <a>
                    Rejected</a></li>
                <li> <a>In Progress</a></li>
              </ul>
            </div>
          </div> -->
        </div>
      </div>
      <div class="card-body pt-0">
        <div class="table-responsive" style="height: 300px; overflow-y: scroll;">
          <table class="table table-bordernone">
            <thead>
              <tr>
                <th> <span>Tom de Voz</span></th>
                <th> <span>gpt</span></th>
                <th> <span>key</span></th>
                <th> <span>Opções</span></th>
              </tr>
            </thead>
            <tbody id="tbody_tom">
              {% for tom in toms %}
                <tr>
                  <td>
                    <div class="media">
                      <div class="square-box me-2"><img class="img-fluid b-r-5"
                          src="{% static 'assets/images/gravador-de-voz.png'%}" alt="" style="width: 100%; height: 100%; object-fit: contain;" onerror="this.onerror=null;this.src='{% static 'assets\images\banner\Produto-sem-foto.png' %}';"></div>
                      <div class="media-body ps-2">
                        <div class="avatar-details"><a href="#">
                            <h6>{{tom.tomvoz}}</h6>
                          </a><span></span></div>
                      </div>
                    </div>
                  </td>
                  <td class="img-content-box">
                    <h6>{{tom.gpt}}</h6>
                  </td>
                  <td>
                    {{tom.key}}
                  </td>
                  <td>
                    <button class="btn btn-primary dropdown-toggle" type="button" data-bs-toggle="dropdown"
                          aria-haspopup="true" aria-expanded="false">Opções</button>
                        <div class="dropdown-menu">
                          <a class="dropdown-item"
                            href="#" onclick="delete_tom('{{tom.pk}}')">Excluir</a>
                            <a class="dropdown-item"
                            href="javascript:void(0)" data-bs-toggle="modal" data-bs-target="#modal_add_tomvoz" onclick="edit_tom('{{tom.pk}}')">Editar</a>
                        </div>
                  </td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <div class="col-sm-12">
    <div class="card">
      <div class="card-header pb-0">
        <h5>Prompt IA</h5>
      </div>
      <div class="card-body">
        <div class="prompt">
          <label for="prompt_ia_template">Informe abaixo o prompt que será implementado na tela whatsapp templates* Use as seguintes variáveis para formatar o prompt de acordo com o informado pelo usuário: {produto}, {publico_alvo}, {descricao}, {criatividade}, {tomvoz}</label>
          <textarea name="prompt_ia_template" id="prompt_ia_template" class="form-control" cols="100" rows="10">{{ia_prompt.prompt}}</textarea>
        </div>
        <div class="mt-3">
            <label for="gpt_engine">Versão do GPT</label>
            <div class="d-flex">
              <select class="js-example-basic-single" id="gpt_engine">
                {% for versao in versoes %}
                  <option value="{{versao.pk}}" {% if ia_prompt.gpt_engine.pk == versao.pk %} selected {% endif %}>{{versao.gpt_engine}}</option>
                {% endfor %}
              </select>
              <button class="btn btn-info ms-2" data-bs-toggle="modal" data-bs-target="#modal_add_versao">Add</button>
            </div>
        </div>
        <div class="mt-3">
          <button class="btn btn-primary" id="save_versao">Salvar</button>
          <button class="btn btn-danger ms-2" id="limpe_prompt_ia">Limpar</button>
        </div>
      </div>
    </div>
  </div>